<h1> Rodrigo Gama üöÄ Especialista FinOps

<a href="https://github.com/user-attachments/files/19029170/Rodrigo_Vieira_Gama_FinOps.pdf">
  <img src="https://github.com/user-attachments/assets/803fc95b-213a-4227-9844-cae725202b5b" width="3%" title="Download do Curr√≠culo">
</a>

</h1>


**Certifica√ß√µes e Tecnologias**

<img 
    align="left" 
    alt="FinOps Certified Practitioner"
    title="FinOps Certified Practitioner" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/129b2f65-26c9-4501-8054-c046e9b504e0"
/>
<img 
    align="left" 
    alt="Microsoft Certified: Azure Administrator Associate"
    title="Microsoft Certified: Azure Administrator Associate" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/35992d80-5c96-4dcd-aada-67ecf2328fc9"
/>
<img 
    align="left" 
    alt="Microsoft Certified: Azure Fundamentals"
    title="Microsoft Certified: Azure Fundamentals" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/c91ac7bd-a544-42e6-8c43-fe52f71afa8a"
/>
<img 
    align="left" 
    alt="AWS Certified Cloud Practitioner"
    title="AWS Certified Cloud Practitioner" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/510a302c-ecab-4344-9ecb-6ddf5c7be42b"
/>
<img 
    align="left" 
    alt="Microsoft Certified: Azure Data Fundamentals"
    title="Microsoft Certified: Azure Data Fundamentals" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/1e2ab8ea-8491-460e-864d-5985d28ed34a"
/>
<img 
    align="left" 
    alt="Microsoft Certified: Security, Compliance, and Identity Fundamentals"
    title="Microsoft Certified: Security, Compliance, and Identity Fundamentals" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/62366706-6918-47ee-88fa-3efe1b605e37"
/>
<img 
    align="left" 
    alt="Microsoft Certified: Power Platform Fundamentals"
    title="Microsoft Certified: Power Platform Fundamentals" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/f76393c6-44fb-425f-a675-f21ed072a7fb"
/>
<img 
    align="left" 
    alt="Microsoft Certified: Azure AI Fundamentals"
    title="Microsoft Certified: Azure AI Fundamentals" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/08ce58c4-ce88-4049-9b7f-33cc24316d35"
/>
<img 
    align="left" 
    alt="AWS Partner: Cloud Economics Essentials"
    title="AWS Partner: Cloud Economics Essentials" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/66ef0371-c600-46bd-8156-ed9f854609a7"
/>
<img 
    align="left" 
    alt="Scrum Foundation Professional Certification - SFPC‚Ñ¢"
    title="Scrum Foundation Professional Certification - SFPC‚Ñ¢" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/1cbbc0b2-3c87-4dfa-a611-0816123f24a8"
/>

<br/>

<img 
    align="left" 
    alt="AWS"
    title="AWS" 
    width="30px" 
    style="padding-right: 10px;" 
    src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/amazonwebservices/amazonwebservices-original-wordmark.svg"        
/>
<img 
    align="left" 
    alt="Azure" 
    title="Azure"
    width="30px" 
    style="padding-right: 10px;"
    src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/azure/azure-original.svg"          
/>
<img 
    align="left" 
    alt="GCP" 
    title="GCP"
    width="30px" 
    style="padding-right: 10px;"
    src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/googlecloud/googlecloud-original.svg"          
/>
<img 
    align="left" 
    alt="Python"
    title="Python" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/python/python-original.svg"           
/>
<img 
    align="left" 
    alt="GitHub"
    title="GitHub" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/github/github-original.svg"
/>
<img 
    align="left" 
    alt="DOMO BI"
    title="DOMO BI" 
    width="30px" 
    style="padding-right: 10px;"
    src="https://github.com/user-attachments/assets/9a4357b3-01d7-454d-a7ac-315142b1ef28"
/>

<br/>
<br/>

---


<p align="justify"> Me chamo <b>Rodrigo Vieira Gama</b>, sou natural de S√£o Paulo, pai do Enzo, resolvedor de problemas e churrasqueiro semiprofissional!.</p>

<p align="justify"> Sou um <b>profissional com mais de 25 anos de experi√™ncia em tecnologia da informa√ß√£o</b>, com expertise tanto em governan√ßa de custos em nuvem <b>(FinOps)</b> quanto na administra√ß√£o de ambientes de TI.
Minha trajet√≥ria inclui <b>atua√ß√£o em grandes institui√ß√µes como Banco Bradesco, Ita√∫ Unibanco e Claro Brasil</b>, al√©m de experi√™ncia pr√©via na gest√£o de infraestrutura tecnol√≥gica em empresas de diferentes 
segmentos. </p>

<p align="justify"> Minha especializa√ß√£o em FinOps envolve planejamento financeiro da nuvem, otimiza√ß√£o de custos, implementa√ß√£o de pr√°ticas como showback e chargeback, cria√ß√£o de KPIs estrat√©gicos e desenvolvimento de business 
cases para controle e redu√ß√£o de despesas operacionais. Utilizo ferramentas como Apptio Cloudability, Power BI, Turbonomic e Azure Cost Management para embasar decis√µes e promover efici√™ncia operacional. Nos 
√∫ltimos anos, liderei projetos de otimiza√ß√£o que geraram economias significativas, incluindo descomissionamento de recursos ociosos e ado√ß√£o de reservas de inst√¢ncias e Compute Savings Plans.</p>

<p align="justify"> Al√©m disso, possuo s√≥lida experi√™ncia na administra√ß√£o de ambientes de TI, abrangendo redes, servidores (Windows e Linux), virtualiza√ß√£o e implementa√ß√£o de pol√≠ticas de backup e conting√™ncia. Trabalhei diretamente na estrutura√ß√£o e moderniza√ß√£o de data centers (pequeno porte), servidores Dell e HP, montagem de Rack, gest√£o de infraestrutura corporativa e implementa√ß√£o de sistemas de telefonia Asterisk. Minha trajet√≥ria inclui ainda coordena√ß√£o de projetos de TI baseados em metodologias como Scrum, ITIL e PMI, garantindo alta disponibilidade e efici√™ncia dos servi√ßos. Minha combina√ß√£o de conhecimentos em FinOps e administra√ß√£o de TI me permite atuar de forma estrat√©gica na otimiza√ß√£o de custos e na governan√ßa tecnol√≥gica, sempre alinhando efici√™ncia financeira, seguran√ßa e estabilidade dos ambientes de TI.</p>

<br/>

---

<h2>üìä Artigos </h2>

[Alavancando o FinOps para Maximizar a Efici√™ncia Financeira: Uma Perspectiva Atrav√©s das Lentes da Teoria da Janela Quebrada e Teoria dos jogos](https://www.linkedin.com/pulse/alavancando-o-finops-para-maximizar-efici%C3%AAncia-uma-da-rodrigo/?trackingId=%2FfMOZSToSz%2BNfeCDmcAJFw%3D%3D) 

<br/>

---

<h2>üìä Identificando inst√¢ncia ligadas nos finais de semana</h2>

<br/>

<p align="justify"> Este estudo tem como objetivo demonstrar uma estrat√©gia eficaz para reduzir custos na nuvem: identificar inst√¢ncias EC2 que permanecem ligadas nos finais de semana sem necessidade.</p>

<p align="justify">A mesma abordagem pode ser aplicada para desligamento de inst√¢ncias em dias √∫teis, fora do hor√°rio comercial, maximizando a efici√™ncia dos recursos. Al√©m das EC2, essa l√≥gica tamb√©m se estende a bancos de dados RDS.</p>

<p align="justify">A tabela abaixo apresenta os custos das inst√¢ncias EC2 ao longo do m√™s de janeiro, destacando os valores registrados nos finais de semana. Essa an√°lise permite estimar o potencial de economia ao otimizar o uso desses recursos.</p>

<br/>

![Image](https://github.com/user-attachments/assets/0e897ded-0e6b-4dac-8d57-b940b563bfb1)

<br/> Um exemplo, dentre varias op√ß√µes de automa√ß√£o: https://github.com/gama81/Stop-Start-EC2 <br/> 

<br/>

---

<h2> üìä On-Demand como Principal Oportunidade de Economia</h2>

<p align="justify">Nesta an√°lise, exploramos dados reais sobre os custos de EC2 ao longo do m√™s, segmentando o consumo por tipo de contrato (<strong>On-Demand, Reserved Instances (RI) e Savings Plans</strong>). Os insights extra√≠dos ajudam a entender:</p>

<ul>
    <li>‚úÖ Como o modelo <strong>On-Demand</strong> impacta diretamente o or√ßamento.</li>
    <li>‚úÖ Quais a√ß√µes podem ser implementadas para <strong>reduzir custos</strong> sem comprometer a opera√ß√£o.</li>
    <li>‚úÖ Como estruturar uma <strong>estrat√©gia de otimiza√ß√£o cont√≠nua</strong> para melhorar a efici√™ncia financeira.</li>
</ul>

<p align="justify">Nos gr√°ficos e tabelas a seguir, veremos detalhes sobre a distribui√ß√£o dos custos e como podemos <strong>tomar decis√µes estrat√©gicas</strong> para reduzir despesas sem comprometer a disponibilidade dos servi√ßos. üöÄ</p>
   
![Image](https://github.com/user-attachments/assets/bc90408f-1017-4f54-bc7d-5dd36e91c871)

<br/>
<br/>

![Image](https://github.com/user-attachments/assets/5e321801-14a7-47c3-a70a-13876d9f4252)

<br/>

---

<h2>üìä Comparativo de Custo e Desempenho: Processadores AMD vs. Intel </h2>

<p align="justify">
A escolha entre processadores AMD e Intel √© uma decis√£o crucial para empresas que buscam equilibrar desempenho e custo. Diversos estudos e an√°lises destacam as diferen√ßas em efici√™ncia, pre√ßo e aplicabilidade entre as duas marcas.
</p>

## Desempenho e Custo-Benef√≠cio

<p align="justify">
An√°lises indicam que, embora a Intel possa oferecer CPUs com custo superior, a linha de CPUs de 14¬∞ gera√ß√£o da Intel apresenta melhor custo-benef√≠cio para a maioria dos usu√°rios. Isso se deve ao equil√≠brio entre desempenho e pre√ßo, tornando-as adequadas para diversas aplica√ß√µes empresariais.
</p>

[Leia mais](https://www.avast.com/pt-br/c-amd-vs-intel-cpu)

## Efici√™ncia Energ√©tica

<p align="justify">
A efici√™ncia energ√©tica √© um fator cr√≠tico na escolha de processadores, especialmente em ambientes corporativos onde o consumo de energia impacta diretamente os custos operacionais. Estudos apontam que os processadores AMD EPYC‚Ñ¢ oferecem desempenho semelhante aos Intel Xeon, por√©m com menor consumo de energia, resultando em economia significativa a longo prazo.
</p>

[Leia mais](https://ascentoptics.com/blog/pt/choosing-the-right-server-cpu-intel-vs-amd-server-processors-for-sale)

## Casos de Uso e Aplica√ß√µes

- **Tarefas Multithreaded**: <p align="justify">A AMD destaca-se em aplica√ß√µes que se beneficiam de m√∫ltiplos n√∫cleos, como renderiza√ß√£o 3D e simula√ß√µes complexas, devido √† sua arquitetura que favorece o multitarefa.</p>
- **Desempenho Single-Thread**: <p align="justify">A Intel mant√©m vantagem em aplica√ß√µes que dependem de alto desempenho por n√∫cleo, como jogos e certas aplica√ß√µes financeiras.</p>


## Bussines Case
<p align="justify">
Nos gr√°ficos e tabelas a seguir, apresentamos um estudo detalhado sobre a distribui√ß√£o de CPUs AMD e Intel em seu parque de inst√¢ncias EC2, facilitando a visualiza√ß√£o e compreens√£o dessa composi√ß√£o.

Iniciaremos explorando a conven√ß√£o de nomenclatura das inst√¢ncias da AWS (AWS Instance Type Naming Convention). A figura abaixo ilustra o significado da composi√ß√£o do Instance Type, uma informa√ß√£o essencial para identificar inst√¢ncias que utilizam CPUs AMD, Intel ou ARM. Esse processo ser√° aplicado na planilha apresentada a seguir.
</p>

<br/>

<img src="https://github.com/user-attachments/assets/b0216436-3d57-4ed7-a7c5-bae39072b5a1" width="50%">


<br/>

<h2>üìä Insight Estrat√©gico: Otimiza√ß√£o de Custos em EC2 - AMD vs. Intel </h2>

<br/>
<br/>

![Image](https://github.com/user-attachments/assets/2e46068b-2294-4149-97f1-9f06dfc85457)


<br/>
<br/>

![Image](https://github.com/user-attachments/assets/0a074b44-ce2d-46a1-a9d0-fb1ded5a9b02)

<br/>
<br/>

## Considera√ß√µes Finais

<p align="justify">
A decis√£o entre AMD e Intel deve considerar:
</p>

- **Necessidades Espec√≠ficas**: Avaliar as demandas espec√≠ficas das aplica√ß√µes em uso.
- **Or√ßamento Dispon√≠vel**: Considerar o investimento inicial e os custos operacionais a longo prazo.
- **Efici√™ncia Energ√©tica**: Levar em conta o consumo de energia e o impacto ambiental.

<p align="justify">
Em resumo, tanto a AMD quanto a Intel oferecem solu√ß√µes robustas. A escolha ideal depender√° das particularidades de cada empresa e de suas prioridades em termos de desempenho e custo.
</p>

<br/>
<br/>

---

<h2> üìä KPIs de FinOps para Otimiza√ß√£o de Custos em Cloud </h2>

<br/>

A implementa√ß√£o de **KPIs estrat√©gicos** permite que as √°reas da corpora√ß√£o monitorem e **reduzam desperd√≠cios**, promovendo maior efici√™ncia financeira na nuvem.  


## üöÄ Exemplos de KPIs  

### 1Ô∏è‚É£ Inefici√™ncia de EC2  
- **F√≥rmula:**  
  ```(Total gasto com EC2 subutilizada) / (Total gasto com EC2)```  
- **Objetivo:** Reduzir custos com inst√¢ncias EC2 que operam com baixa utiliza√ß√£o de CPU/mem√≥ria.  
- **Exemplo:** Se 30% das EC2 est√£o com uso abaixo de 10% de CPU, a√ß√µes de **rightsizing ou desligamento** devem ser tomadas.  

### 2Ô∏è‚É£ Inefici√™ncia de RDS  
- **F√≥rmula:**  
  ```(Total gasto com RDS subutilizado) / (Total gasto com RDS)```  
- **Objetivo:** Ajustar tamanhos e configura√ß√µes de bancos de dados RDS para evitar desperd√≠cios.  
- **Exemplo:** Um RDS provisionado para **16 vCPUs e 64 GB RAM**, mas com uso m√©dio de apenas **2 vCPUs**, deve ser reconfigurado para um tamanho menor.  

### 3Ô∏è‚É£ Desatualiza√ß√£o de EC2  
- **F√≥rmula:**  
  ```(Total gasto com EC2 desatualizadas) / (Total gasto com EC2)```  
- **Objetivo:** Garantir que inst√¢ncias EC2 utilizem **gera√ß√µes mais recentes** para maior efici√™ncia de custo e desempenho.  
- **Exemplo:** Se **40% das EC2** s√£o da gera√ß√£o **m4** ao inv√©s da **m6g**, h√° potencial de economia ao realizar a migra√ß√£o.  

### 4Ô∏è‚É£ Desatualiza√ß√£o de RDS  
- **F√≥rmula:**  
  ```(Total gasto com RDS desatualizados) / (Total gasto com RDS)```  
- **Objetivo:** Identificar bancos de dados em vers√µes legadas e promover upgrades para vers√µes mais eficientes.  
- **Exemplo:** Bancos RDS rodando **

 ### 5Ô∏è‚É£ Volume de EBS √ìrf√£o  
- **F√≥rmula:**  
  ```Total de EBS n√£o anexado a inst√¢ncia ativa```  
- **Objetivo:** Reduzir desperd√≠cio de volumes de armazenamento que continuam gerando custos sem uso.  
- **Exemplo:** A corpora√ß√£o pode ter **500 TB de EBS** sem associa√ß√£o a inst√¢ncias, gerando custos desnecess√°rios.  

### 6Ô∏è‚É£ Estouro de Or√ßamento  
- **F√≥rmula:**  
  ```(Custo acima do or√ßamento) / (Valor or√ßado)```  
- **Objetivo:** Monitorar √°reas que ultrapassam o or√ßamento definido e identificar causas.  
- **Exemplo:** Se o or√ßamento mensal de cloud era **R$ 2 milh√µes**, mas os custos chegaram a **R$ 2,5 milh√µes**, √© necess√°rio investigar o aumento e ajustar previs√µes.  

### 7Ô∏è‚É£ Ader√™ncia a Inst√¢ncias Reservadas e Savings Plans  
- **F√≥rmula:**  
  ```(Total gasto em inst√¢ncias reservadas e Savings Plans) / (Total gasto com EC2/RDS)```  
- **Objetivo:** Maximizar o uso de **contratos de longo prazo** para reduzir custos operacionais.  
- **Exemplo:** Um time que usa apenas **30% de inst√¢ncias reservadas** pode aumentar essa taxa para **60%+**, gerando economia significativa.  

### 8Ô∏è‚É£ Efici√™ncia de Auto Shutdown  
- **F√≥rmula:**  
  ```(Total de inst√¢ncias desligadas automaticamente fora do hor√°rio de uso) / (Total de inst√¢ncias n√£o cr√≠ticas)```  
- **Objetivo:** Garantir que workloads de **Desenvolvimento/Teste** sejam desligados quando n√£o utilizados.  
- **Exemplo:** Servidores de teste devem estar **desligados entre 20h e 8h**, evitando cobran√ßas desnecess√°rias.  

### 9Ô∏è‚É£ Uso de Spot Instances em Ambientes N√£o Cr√≠ticos  
- **F√≥rmula:**  
  ```(Total gasto em Spot Instances) / (Total gasto com EC2 em ambientes n√£o cr√≠ticos)```  
- **Objetivo:** Maximizar o uso de **inst√¢ncias Spot** para workloads de desenvolvimento e testes, reduzindo custos sem impactar opera√ß√µes cr√≠ticas.  
- **Exemplo:** Ambientes de **Dev/Test** devem utilizar **80%+ de inst√¢ncias Spot**, ao inv√©s de inst√¢ncias On-Demand mais caras.  

### üîü Uso de Recursos de Alto Custo em Ambientes de Desenvolvimento  
- **F√≥rmula:**  
  ```(Total gasto com inst√¢ncias de alto desempenho em Dev/Test) / (Total gasto com infraestrutura de Dev/Test)```  
- **Objetivo:** Reduzir o uso de inst√¢ncias premium (exemplo: **m√°quinas otimizadas para GPU, alto throughput de rede, grandes volumes de mem√≥ria**) onde n√£o s√£o necess√°rias.  
- **Exemplo:** Um ambiente de **Desenvolvimento** rodando em EC2 **x1e.32xlarge** (1TB RAM) pode ser substitu√≠do por uma configura√ß√£o menor sem comprometer a produtividade.  

<br/>
<br/>

## ‚úÖ Conclus√£o  

Monitorando esses **KPIs de FinOps**, a corpora√ß√£o pode **reduzir desperd√≠cios**, **aumentar a efici√™ncia** e **garantir previsibilidade financeira** no uso da nuvem.  

Al√©m disso, esses indicadores incentivam uma **cultura de FinOps**, onde as √°reas se tornam respons√°veis pelo uso otimizado dos recursos.  

üìå *Mantenha os custos sob controle e maximize a efici√™ncia da cloud!* üöÄ  

<br/>
<br/>

---

## üìä Otimiza√ß√£o de Custos no Amazon CloudWatch

O **AWS CloudWatch** costuma ser um dos principais ofensores nos custos dos ambientes, pois √© uma ferramenta poderosa para monitoramento e observabilidade na AWS, mas seu uso inadequado pode resultar em custos elevados. A seguir, apresentamos estrat√©gias para **otimizar esses custos**, garantindo efici√™ncia sem comprometer a funcionalidade.

**Observa√ß√£o:** Como em toda a√ß√£o de FinOps, assegure-se de que as √°reas de Neg√≥cios, Arquitetura e Seguran√ßa validem e aprovem a otimiza√ß√£o proposta antes da implementa√ß√£o.


### üîé 1. An√°lise de Custos com o AWS Cost Explorer

 **Visualiza√ß√£o Detalhada**: Utilize o **AWS Cost Explorer** para examinar os gastos associados ao CloudWatch.  
**Dica**: Filtre por servi√ßo e agrupe por tipo de uso ou opera√ß√£o de API para identificar √°reas de maior despesa.

<img width="848" alt="Image" src="https://github.com/user-attachments/assets/bd6cdf90-4ea9-4565-bb04-420665bd424c" />

üîó [Documenta√ß√£o Oficial](https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-explorer.html)



### üìà 2. Otimiza√ß√£o de M√©tricas

**M√©tricas Personalizadas**: Crie **m√©tricas personalizadas** apenas quando necess√°rio, pois elas s√£o cobradas proporcionalmente por hora.  
**Monitoramento Detalhado**: Ative o **monitoramento detalhado** somente para recursos cr√≠ticos, evitando custos adicionais desnecess√°rios.  

üîó [Documenta√ß√£o Oficial](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html)



### üîî 3. Gerenciamento de Alarmes

**Configura√ß√£o Eficiente**: Revise regularmente os **alarmes configurados**, removendo aqueles que n√£o s√£o mais relevantes ou que monitoram recursos inexistentes.  
**Alarmes Compostos**: Utilize **alarmes compostos** para reduzir o n√∫mero total de alarmes, consolidando m√∫ltiplas condi√ß√µes em um √∫nico alarme.  

üîó [Documenta√ß√£o Oficial](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html)



### üìÇ 4. Controle de Logs

**Pol√≠ticas de Reten√ß√£o**: Defina **pol√≠ticas de reten√ß√£o adequadas** para os logs, garantindo que dados antigos sejam exclu√≠dos automaticamente, reduzindo custos de armazenamento.  
**Filtragem de Logs**: Configure o **agente do CloudWatch** para coletar apenas os logs essenciais, evitando a ingest√£o de dados irrelevantes.  

üîó [Documenta√ß√£o Oficial](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html)



### üöÄ 5. Uso de Fluxos de M√©tricas

**Transmiss√£o Seletiva**: Implemente **fluxos de m√©tricas** para transmitir apenas os dados necess√°rios para destinos espec√≠ficos, como o **Amazon S3**, facilitando an√°lises e integra√ß√£o com outras ferramentas.  

üîó [Documenta√ß√£o Oficial](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-Metric-Streams.html)



### üìä 6. Monitoramento de Solicita√ß√µes de API

**Agrupamento de Dados**: Ao enviar dados para o CloudWatch, **agrupa o m√°ximo de informa√ß√µes poss√≠vel** em cada chamada de API, diminuindo o n√∫mero total de solicita√ß√µes e os custos associados.  
**Uso de GetMetricStatistics**: Considere utilizar a API **GetMetricStatistics** em vez de **GetMetricData**, pois a primeira pode estar inclu√≠da no n√≠vel gratuito da AWS, dependendo do volume de solicita√ß√µes.  

üîó [Documenta√ß√£o Oficial](https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_GetMetricStatistics.html)



### üéØ Conclus√£o

Ao adotar essas pr√°ticas, √© poss√≠vel **otimizar os custos do Amazon CloudWatch**, garantindo um equil√≠brio entre **monitoramento eficaz e despesas controladas**. üöÄ

---


## üìä Uso de guardrails de boas pr√°ticas de FinOps em ambientes n√£o produtivos

Para garantir que inst√¢ncias **Spot** sejam utilizadas em **ambientes n√£o produtivos** na AWS, recomenda-se a ado√ß√£o das seguintes abordagens:

 

### 1. Estrutura de Contas e Unidades Organizacionais (OUs)

A separa√ß√£o de ambientes em **contas distintas** organizadas dentro de **Unidades Organizacionais (OUs)** espec√≠ficas, como **Produ√ß√£o** e **N√£o Produ√ß√£o**, permite um controle mais eficiente sobre o uso de inst√¢ncias Spot.  

O **AWS Control Tower** facilita essa estrutura√ß√£o ao permitir a cria√ß√£o de uma **landing zone**, organizando contas e OUs conforme as melhores pr√°ticas.  

[Documenta√ß√£o Oficial](https://docs.aws.amazon.com/controltower/latest/userguide/what-is-control-tower.html)  



### 2. Aplica√ß√£o de Controles (Guardrails) no AWS Control Tower  

O **AWS Control Tower** oferece mecanismos de governan√ßa para manter a conformidade do ambiente. Embora n√£o haja um controle espec√≠fico para restringir inst√¢ncias Spot, √© poss√≠vel implementar **pol√≠ticas personalizadas** para alcan√ßar esse objetivo.  

[Documenta√ß√£o Oficial](https://docs.aws.amazon.com/controltower/latest/userguide/controls.html)  



### 3. Pol√≠ticas de Controle de Servi√ßo (SCPs) no AWS Organizations  

As **Service Control Policies (SCPs)** permitem impor restri√ß√µes √†s contas dentro de uma **OU espec√≠fica**. Para evitar a cria√ß√£o de inst√¢ncias Spot em **ambientes produtivos**, pode-se criar uma SCP que negue explicitamente esse tipo de solicita√ß√£o.  


#### **Exemplo de SCP para Restringir Inst√¢ncias Spot**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Deny",
      "Action": "ec2:RunInstances",
      "Resource": "*",
      "Condition": {
        "StringNotEquals": {
          "ec2:InstanceMarketType": "spot"
        }
      }
    }
  ]
}
```

<br/>

#### **Agora um Exemplo de SCP para Bloquear EBS √ìrf√£os (N√£o Anexados a Inst√¢ncias)**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Deny",
      "Action": [
        "ec2:DeleteVolume",
        "ec2:DetachVolume"
      ],
      "Resource": "*"
    },
    {
      "Effect": "Deny",
      "Action": "ec2:CreateVolume",
      "Resource": "*",
      "Condition": {
        "StringEquals": {
          "ec2:VolumeAttachment": ""
        }
      }
    }
  ]
}
```






